<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#fbc2eb">
    <meta name="description" content="The only calculator you need to justify your spending.">
    <title>Girl Math Calculator</title>
    
    <!-- PWA Manifest Link -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Apple Touch Icon (iOS support) -->
    <link rel="apple-touch-icon" href="icon-192.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);
            /* Use h-screen for full viewport height and remove overflow: hidden for better mobile compatibility */
            height: 100vh;
            touch-action: manipulation;
        }

        /* Glassmorphism */
        .glass-panel {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.8);
        }

        /* Button Styles */
        .calc-btn {
            transition: all 0.15s ease;
            box-shadow: 0 4px 6px -1px rgba(236, 72, 153, 0.2), 0 2px 4px -1px rgba(236, 72, 153, 0.1);
        }
        .calc-btn:active {
            transform: scale(0.95);
            box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
        }

        /* Toggle Switch */
        .toggle-checkbox:checked {
            right: 0;
            border-color: #db2777;
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: #db2777;
        }
        
        /* Animation for text change */
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Text resizing classes */
        .text-mode {
            font-size: 1.25rem; /* Slightly smaller base for longer messages */
            font-weight: 700;
            color: #db2777;
            white-space: normal;
            line-height: 1.3;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            height: 100%;
        }
        .number-mode {
            font-size: 3rem;
            font-weight: 700;
            color: #1f2937;
        }
        @media (min-width: 640px) {
            .number-mode { font-size: 3.5rem; }
            .text-mode { font-size: 1.5rem; }
        }
    </style>
</head>
<body class="flex items-center justify-center h-screen p-4 select-none">

    <!-- Main Calculator Container -->
    <div class="glass-panel w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col h-[90vh] max-h-[800px]">
        
        <!-- Header / Mode Toggle -->
        <div class="p-6 pb-2 flex justify-between items-center">
            <div class="flex flex-col">
                <span class="text-xs font-bold text-pink-500 uppercase tracking-widest">Mode</span>
                <span id="mode-text" class="text-pink-600 font-bold text-lg">Standard</span>
            </div>
            
            <div class="relative inline-block w-14 mr-2 align-middle select-none transition duration-200 ease-in">
                <input type="checkbox" name="toggle" id="girl-math-toggle" class="toggle-checkbox absolute block w-7 h-7 rounded-full bg-white border-4 border-pink-200 appearance-none cursor-pointer transition-all duration-300 ease-in-out shadow-sm z-10 top-0 left-0"/>
                <label for="girl-math-toggle" class="toggle-label block overflow-hidden h-7 rounded-full bg-pink-200 cursor-pointer transition-colors duration-300 ease-in-out"></label>
            </div>
        </div>

        <!-- Display Screen -->
        <div class="px-6 py-4 text-right flex flex-col justify-end flex-grow min-h-[180px]">
            <!-- Previous Input -->
            <div id="prev-input" class="text-pink-400 text-sm min-h-[1.5rem] font-semibold tracking-wide opacity-70 truncate mb-2"></div>
            
            <!-- Main Display (Number or Text) -->
            <div id="display" class="number-mode break-words transition-all duration-200 py-2">0</div>
        </div>

        <!-- Keypad -->
        <div class="bg-white/60 p-6 rounded-t-[2.5rem] shadow-[0_-10px_40px_-15px_rgba(0,0,0,0.1)]">
            <div class="grid grid-cols-4 gap-3 sm:gap-4">
                <!-- Row 1 -->
                <button onclick="clearDisplay()" class="calc-btn col-span-1 aspect-square rounded-2xl bg-pink-100 text-pink-600 font-bold text-xl flex items-center justify-center hover:bg-pink-200">AC</button>
                <button onclick="deleteChar()" class="calc-btn col-span-1 aspect-square rounded-2xl bg-pink-100 text-pink-600 font-bold text-xl flex items-center justify-center hover:bg-pink-200">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"></path><line x1="18" y1="9" x2="12" y2="15"></line><line x1="12" y1="9" x2="18" y2="15"></line></svg>
                </button>
                <button onclick="appendOperator('%')" class="calc-btn col-span-1 aspect-square rounded-2xl bg-pink-100 text-pink-600 font-bold text-xl flex items-center justify-center hover:bg-pink-200">%</button>
                <button onclick="appendOperator('/')" class="calc-btn col-span-1 aspect-square rounded-2xl bg-pink-300 text-white font-bold text-2xl flex items-center justify-center hover:bg-pink-400 shadow-pink-300/50">Ã·</button>

                <!-- Row 2 -->
                <button onclick="appendNumber('7')" class="calc-btn col-span-1 aspect-square rounded-2xl bg-white text-gray-600 font-semibold text-2xl flex items-center justify-center hover:bg-gray-50">7</button>
                <button onclick="appendNumber('8')" class="calc-btn col-span-1 aspect-square rounded-2xl bg-white text-gray-600 font-semibold text-2xl flex items-center justify-center hover:bg-gray-50">8</button>
                <button onclick="appendNumber('9')" class="calc-btn col-span-1 aspect-square rounded-2xl bg-white text-gray-600 font-semibold text-2xl flex items-center justify-center hover:bg-gray-50">9</button>
                <button onclick="appendOperator('*')" class="calc-btn col-span-1 aspect-square rounded-2xl bg-pink-300 text-white font-bold text-2xl flex items-center justify-center hover:bg-pink-400 shadow-pink-300/50">Ã—</button>

                <!-- Row 3 -->
                <button onclick="appendNumber('4')" class="calc-btn col-span-1 aspect-square rounded-2xl bg-white text-gray-600 font-semibold text-2xl flex items-center justify-center hover:bg-gray-50">4</button>
                <button onclick="appendNumber('5')" class="calc-btn col-span-1 aspect-square rounded-2xl bg-white text-gray-600 font-semibold text-2xl flex items-center justify-center hover:bg-gray-50">5</button>
                <button onclick="appendNumber('6')" class="calc-btn col-span-1 aspect-square rounded-2xl bg-white text-gray-600 font-semibold text-2xl flex items-center justify-center hover:bg-gray-50">6</button>
                <button onclick="appendOperator('-')" class="calc-btn col-span-1 aspect-square rounded-2xl bg-pink-300 text-white font-bold text-2xl flex items-center justify-center hover:bg-pink-400 shadow-pink-300/50">-</button>

                <!-- Row 4 -->
                <button onclick="appendNumber('1')" class="calc-btn col-span-1 aspect-square rounded-2xl bg-white text-gray-600 font-semibold text-2xl flex items-center justify-center hover:bg-gray-50">1</button>
                <button onclick="appendNumber('2')" class="calc-btn col-span-1 aspect-square rounded-2xl bg-white text-gray-600 font-semibold text-2xl flex items-center justify-center hover:bg-gray-50">2</button>
                <button onclick="appendNumber('3')" class="calc-btn col-span-1 aspect-square rounded-2xl bg-white text-gray-600 font-semibold text-2xl flex items-center justify-center hover:bg-gray-50">3</button>
                <button onclick="appendOperator('+')" class="calc-btn col-span-1 aspect-square rounded-2xl bg-pink-300 text-white font-bold text-2xl flex items-center justify-center hover:bg-pink-400 shadow-pink-300/50">+</button>

                <!-- Row 5 -->
                <button onclick="appendNumber('0')" class="calc-btn col-span-2 rounded-2xl bg-white text-gray-600 font-semibold text-2xl flex items-center justify-center hover:bg-gray-50">0</button>
                <button onclick="appendNumber('.')" class="calc-btn col-span-1 aspect-square rounded-2xl bg-white text-gray-600 font-semibold text-2xl flex items-center justify-center hover:bg-gray-50">.</button>
                <button onclick="calculate()" class="calc-btn col-span-1 aspect-square rounded-2xl bg-gradient-to-br from-pink-500 to-pink-600 text-white font-bold text-2xl flex items-center justify-center hover:from-pink-600 hover:to-pink-700 shadow-lg shadow-pink-500/40">=</button>
            </div>
        </div>
    </div>

    <script>
        // Service Worker Registration for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(reg => console.log('SW Registered'))
                    .catch(err => console.log('SW Error', err));
            });
        }

        let currentInput = '';
        let previousInput = '';
        let operator = undefined;
        let isGirlMath = false;
        let resetScreen = false;

        const displayElement = document.getElementById('display');
        const prevInputElement = document.getElementById('prev-input');
        const toggleElement = document.getElementById('girl-math-toggle');
        const modeTextElement = document.getElementById('mode-text');

        toggleElement.addEventListener('change', (e) => {
            isGirlMath = e.target.checked;
            if (isGirlMath) {
                modeTextElement.innerText = "Girl Math âœ¨";
                modeTextElement.classList.add("text-pink-600");
                document.body.style.background = "linear-gradient(135deg, #fbc2eb 0%, #f687b3 100%)";
                if (resetScreen && currentInput !== '') updateDisplay(true);
            } else {
                modeTextElement.innerText = "Standard";
                modeTextElement.classList.remove("text-pink-600");
                document.body.style.background = "linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%)";
                if (resetScreen && currentInput !== '') updateDisplay(false);
            }
        });

        function appendNumber(number) {
            if (resetScreen) {
                currentInput = '';
                resetScreen = false;
            }
            if (number === '.' && currentInput.includes('.')) return;
            if (currentInput === '0' && number !== '.') {
                currentInput = number;
            } else {
                currentInput = currentInput.toString() + number.toString();
            }
            updateDisplay(false);
        }

        function appendOperator(op) {
            if (currentInput === '' && previousInput !== '') {
                operator = op;
                updateDisplay(false);
                return;
            }
            if (currentInput === '') return;
            if (previousInput !== '') calculate(true);
            operator = op;
            previousInput = currentInput;
            currentInput = '';
            resetScreen = false;
            updateDisplay(false);
        }

        function deleteChar() {
            if (resetScreen) {
                clearDisplay();
                return;
            }
            currentInput = currentInput.toString().slice(0, -1);
            if(currentInput === '') currentInput = '0';
            updateDisplay(false);
        }

        function clearDisplay() {
            currentInput = '';
            previousInput = '';
            operator = undefined;
            resetScreen = false;
            displayElement.innerText = '0';
            prevInputElement.innerText = '';
            displayElement.classList.add('number-mode');
            displayElement.classList.remove('text-mode');
        }

        function calculate(isIntermediate = false) {
            let computation;
            const prev = parseFloat(previousInput);
            const current = parseFloat(currentInput);

            if (isNaN(prev) || isNaN(current)) return;

            switch (operator) {
                case '+': computation = prev + current; break;
                case '-': computation = prev - current; break;
                case '*': computation = prev * current; break;
                case '/': computation = current === 0 ? "Infinity" : prev / current; break;
                case '%': computation = prev % current; break;
                default: return;
            }

            currentInput = computation;
            operator = undefined;
            previousInput = '';
            resetScreen = true;
            
            if (isIntermediate) updateDisplay(false);
            else updateDisplay(isGirlMath); 
        }

        function updateDisplay(showGirlMathText) {
            if (operator != null) {
                prevInputElement.innerText = `${previousInput} ${operator}`;
            } else {
                prevInputElement.innerText = '';
            }

            if (showGirlMathText) {
                const funnyText = getGirlMathTranslation(currentInput);
                displayElement.classList.remove('number-mode');
                displayElement.classList.add('text-mode');
                displayElement.classList.remove('fade-in');
                void displayElement.offsetWidth;
                displayElement.innerText = funnyText;
                displayElement.classList.add('fade-in');
            } else {
                displayElement.classList.add('number-mode');
                displayElement.classList.remove('text-mode');
                displayElement.innerText = currentInput === '' ? '0' : currentInput;
            }
        }

        function getGirlMathTranslation(result) {
            // Handle Non-Finite
            if (result === "Infinity" || result === Infinity || isNaN(result)) {
                return "Math broke. Relatable.";
            }

            const r = parseFloat(result);
            
            // Handle Negatives (Keep it profitable!)
            if (r < 0) return "You made a profit! ðŸ¤‘";

            // Round down for easier integer logic matching the list
            // For example: 3.5 becomes 3. 
            const val = Math.floor(r);

            // --- 1. Single Digits (0-9) ---
            if (val === 0) return "Free ðŸ’…";
            if (val === 1) return "One? Giving main character energy.";
            if (val === 2) return "Two? A duo. A pair. A vibe.";
            if (val === 3) return "Threesomes of problems youâ€™re ignoring ðŸ’–";
            if (val === 4) return "Four? Two twos. Math queen.";
            if (val === 5) return "âœ¨high-five energyâœ¨";
            if (val === 6) return "Sixâ€¦ spicy number.";
            if (val === 7) return "Seven... lucky number.";
            if (val === 8) return "Eight looks like a curvy hourglass. Obsessed.";
            if (val === 9) return "Nine? Girl, this feels like almost doing work.";
            if (val === 10) return "10/10 would buy again.";

            // --- 2. EXACT Matches (Specific Milestones) ---
            // These take precedence over ranges if they are exactly hit (or very close ints)
            if (val === 100) return "100% THAT GIRL ðŸ’…âœ¨";
            if (val === 300) return "That movie with the hole in the ground?";
            if (val === 420) return "Blaze it gurl ðŸ”¥";
            if (val === 500) return "500 = âœ¨Half a thousand, half the chaosâœ¨";
            if (val === 700) return "700? Thatâ€™s luxury math.";
            if (val === 1000) return "A THOUSAND?? Miss Girl is doing business.";
            if (val === 2000) return "2000? A whole millennium moment.";
            if (val === 5000) return "5K?? Babe thatâ€™s influencer PR package money.";
            if (val === 10000) return "10k?? BABE THATâ€™S A DOWN PAYMENT.";
            if (val === 100000) return "100K?? Influencer status: unlocked.";
            if (val === 1000000) return "A MILLION?? Girl math says thatâ€™s free.";
            if (val === 10000000) return "TEN. MILLION. BITCHEZ.";
            if (val === 1000000000) return "A BILLION?? Jeff Bezos is shaking.";

            // --- 3. Ranges ---
            if (val >= 11 && val <= 19) return "Teen numbers? Ugh. So dramatic.";
            if (val >= 20 && val <= 29) return "Twenty-something, just like every influencer.";
            if (val >= 30 && val <= 39) return "Thirty? Rich auntie era.";
            if (val >= 40 && val <= 49) return "Forty is the new flirty, babe.";
            if (val >= 50 && val <= 59) return "Fifty? Youâ€™ve entered discount shopping mode.";
            // Note: Prompt list skipped 69 explicitly but had 60-68 and 70-79.
            // We will map 60-69 to the 60s message to fill the gap safely unless 69 is special.
            if (val === 69) return "Nice. ðŸ˜"; 
            if (val >= 60 && val <= 69) return "Enough to get your nails done.";
            if (val >= 70 && val <= 79) return "Seventy? Grandma energy but still hot.";
            if (val >= 80 && val <= 89) return "Eighties vibes: neon, perms, chaos.";
            if (val >= 90 && val <= 99) return "Ninety? Wow. Youâ€™re basically a legend.";
            
            if (val >= 101 && val <= 150) return "Big numbers. Big drama.";
            if (val >= 151 && val <= 199) return "This number feels like student loan trauma.";
            if (val >= 200 && val <= 250) return "200? Thatâ€™s likeâ€¦ two hundreds. Math prodigy!";
            if (val >= 251 && val <= 299) return "Almost 300? Go off, overachiever.";
            
            if (val >= 301 && val <= 350) return "Baby big-girl numbers.";
            if (val >= 351 && val <= 399) return "Approaching 400? Scary. Like my inbox.";
            if (val >= 400 && val <= 450) return "Youâ€™re officially in the 400s: elite tier.";
            if (val >= 451 && val <= 499) return "This feels expensive.";
            
            if (val >= 501 && val <= 550) return "This number has hot diva energy.";
            if (val >= 551 && val <= 599) return "Giving â€˜I donâ€™t check my bank appâ€™ vibes.";
            if (val >= 600 && val <= 650) return "Girl this is like my credit score on a good day.";
            if (val >= 651 && val <= 699) return "Almost 700? Rare bimbo genius moment.";
            
            if (val >= 701 && val <= 750) return "Youâ€™re basically calculating in stilettos.";
            if (val >= 751 && val <= 799) return "BIG BRAIN BUBBLEGUM ENERGY ðŸ’—";
            if (val >= 800 && val <= 850) return "850? Credit score level slayyyyy.";
            if (val >= 851 && val <= 899) return "This number has CEO aura.";
            if (val >= 900 && val <= 999) return "Almost 1000? Babe stop youâ€™re showing off.";
            
            // 1000 handled in exacts above
            if (val >= 1001 && val <= 1200) return "Four digits? We rich now.";
            if (val >= 1201 && val <= 1500) return "This feels like rent I refuse to pay.";
            if (val >= 1501 && val <= 1800) return "Big number, bigger delusion.";
            if (val >= 1801 && val <= 1999) return "Approaching 2k like it wonâ€™t hurt.";
            
            // 2000 handled in exacts above
            if (val >= 2001 && val <= 2500) return "Math but make it fashion.";
            if (val >= 2501 && val <= 3000) return "This number wears designer.";
            if (val >= 3001 && val <= 3500) return "Your total gives â€˜I deserve this.â€™";
            if (val >= 3501 && val <= 3999) return "This is girl math: divide until it feels cheap.";
            if (val >= 4000 && val <= 4500) return "Four thousand? Thatâ€™s â€˜soft lifeâ€™ level.";
            if (val >= 4501 && val <= 4999) return "This number needs a nap. Same.";
            
            // 5000 handled in exacts above
            if (val >= 5001 && val <= 5500) return "Girl this number is a tax bracket.";
            if (val >= 5501 && val <= 6000) return "Sexy six-ish thousand energy.";
            if (val >= 6001 && val <= 6500) return "Youâ€™re rich rich? Okay mommy.";
            if (val >= 6501 && val <= 7000) return "Girl this number is giving luxury spa retreat.";
            if (val >= 7001 && val <= 7500) return "High number, high maintenance.";
            if (val >= 7501 && val <= 8000) return "8K territory?? Are you secretly royalty?";
            if (val >= 8001 && val <= 9000) return "This number is too big. I choose denial.";
            if (val >= 9001 && val <= 9999) return "Not over 9000. Anime boyfriend moment.";
            
            // 10000 handled in exacts above
            if (val >= 10001 && val <= 15000) return "This number is louder than my inner monologue.";
            if (val >= 15001 && val <= 20000) return "Girl that is NOT on sale.";
            if (val >= 20001 && val <= 25000) return "Twenty-five thousand? Sugar daddy detected.";
            if (val >= 25001 && val <= 30000) return "This number needs a therapist.";
            if (val >= 30001 && val <= 35000) return "You are too glamorous for normal math.";
            if (val >= 35001 && val <= 40000) return "Forty thousand?!? Bimbo billionaire vibes.";
            if (val >= 40001 && val <= 45000) return "Big number. Bigger hair.";
            if (val >= 45001 && val <= 50000) return "Fifty thousand??? We do NOT tell IRS.";
            if (val >= 50001 && val <= 60000) return "This number has a yacht.";
            if (val >= 60001 && val <= 70000) return "Girl this is executive slay.";
            if (val >= 70001 && val <= 80000) return "80k? Corporate baddie detected.";
            if (val >= 80001 && val <= 90000) return "This number is wearing a blazer AND pink heels.";
            if (val >= 90001 && val <= 99999) return "Math but make it generational wealth.";
            
            // 100,000 handled in exacts above
            if (val >= 100001 && val <= 200000) return "I canâ€™t count this high but I support you.";
            if (val >= 200001 && val <= 500000) return "Numbers this big require champagne.";
            if (val >= 500001 && val <= 999999) return "Youâ€™re basically a private island.";
            
            // 1,000,000 handled in exacts above
            if (val >= 1000001 && val <= 2000000) return "Millionaire delulu era.";
            if (val >= 2000001 && val <= 5000000) return "This number is too rich for me.";
            if (val >= 5000001 && val <= 9000000) return "Penthouse math.";
            if (val >= 9000001 && val <= 9999999) return "Just round up to ten mil, babe.";
            
            // 10,000,000 handled in exacts above
            if (val >= 10000001 && val <= 20000000) return "Youâ€™re beyond math now. Just vibes.";
            if (val >= 20000001 && val <= 50000000) return "This number has a jet.";
            if (val >= 50000001 && val <= 100000000) return "CEO math mode activated.";
            if (val >= 100000001 && val <= 500000000) return "Baby this is wealth wealth.";
            if (val >= 500000001 && val <= 999999999) return "You own several countries emotionally.";
            
            // 1,000,000,000 handled in exacts above
            if (val >= 1000000000 && val <= 2000000000) return "Billionaire Barbie era.";
            if (val > 2000000000 && val <= 5000000000) return "This number comes with a villain arc.";
            if (val > 5000000000 && val <= 10000000000) return "Girl math cannot compute that level of slay.";
            if (val > 10000000000 && val <= 20000000000) return "This is â€˜evil richâ€™ movie character territory.";
            if (val > 20000000000 && val <= 50000000000) return "You have monogrammed helicopters.";
            if (val > 50000000000 && val <= 75000000000) return "This number has a private moon.";
            if (val > 75000000000 && val <= 100000000000) return "Elon who? YOU are the chaos now.";
            if (val > 100000000000) return "You are money. Money is you.";

            // Fallback for anything else not covered (unlikely given the ranges)
            return "Just buy it. Life is short. ðŸ’…";
        }
    </script>
</body>
</html>

